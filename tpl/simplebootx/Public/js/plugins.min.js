window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);typeof console.log==="object"?log.apply.call(console.log,console,e):console.log.apply(console,e)}};(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();){e[r]=e[r]||t}})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());(function(e){(function(){function e(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function t(t){this.el=t,this.path=new e(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var n=typeof exports=="undefined"?window:exports;n.RetinaImagePath=e,e.confirmed_paths=[],e.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},e.prototype.check_2x_variant=function(t){var n,r=this;if(this.is_external())return t(!1);if(this.at_2x_path in e.confirmed_paths)return t(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?t(!1):n.status>=200&&n.status<=399?(e.confirmed_paths.push(r.at_2x_path),t(!0)):t(!1)},n.send()},n.RetinaImage=t,t.prototype.swap=function(e){function t(){n.el.complete?(n.el.setAttribute("width",n.el.offsetWidth),n.el.setAttribute("height",n.el.offsetHeight),n.el.setAttribute("src",e)):setTimeout(t,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var n=this;t()},n.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),n=[],r,i;for(r=0;r<e.length;r++)i=e[r],n.push(new t(i))})})();(function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;n.innerHTML="x<style>"+t+"</style>";return r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=m[e[d]];t||(t={},v++,e[d]=v,m[v]=t);return t}function s(e,n,r){n||(n=t);if(g)return n.createElement(e);r||(r=i(n));n=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e);return n.canHaveChildren&&!c.test(e)?r.frag.appendChild(n):n}function o(e,t){if(!t.cache)t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag();e.createElement=function(n){return!y.shivMethods?t.createElem(n):s(n,e,t)};e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){t.createElem(e);t.frag.createElement(e);return'c("'+e+'")'})+");return n}")(y,t.frag)}function u(e){e||(e=t);var r=i(e);if(y.shivCSS&&!p&&!r.hasCSS)r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}");g||o(e,r);return e}function a(e){for(var t,n=e.attributes,r=n.length,i=e.ownerDocument.createElement(w+":"+e.nodeName);r--;)t=n[r],t.specified&&i.setAttribute(t.nodeName,t.nodeValue);i.style.cssText=e.style.cssText;return i}function f(e){function t(){clearTimeout(u._removeSheetTimer);s&&s.removeNode(!0);s=null}var s,o,u=i(e),f=e.namespaces,l=e.parentWindow;if(!E||e.printShived)return e;"undefined"==typeof f[w]&&f.add(w);l.attachEvent("onbeforeprint",function(){t();var i,u,f;f=e.styleSheets;for(var l=[],c=f.length,h=Array(c);c--;)h[c]=f[c];for(;f=h.pop();)if(!f.disabled&&b.test(f.media)){try{i=f.imports,u=i.length}catch(p){u=0}for(c=0;c<u;c++)h.push(i[c]);try{l.push(f.cssText)}catch(d){}}i=l.reverse().join("").split("{");u=i.length;c=RegExp("(^|[\\s,>+~])("+r().join("|")+")(?=[[\\s,>+~#.:]|$)","gi");for(h="$1"+w+"\\:$2";u--;)l=i[u]=i[u].split("}"),l[l.length-1]=l[l.length-1].replace(c,h),i[u]=l.join("}");l=i.join("{");u=e.getElementsByTagName("*");c=u.length;h=RegExp("^(?:"+r().join("|")+")$","i");for(f=[];c--;)i=u[c],h.test(i.nodeName)&&f.push(i.applyElement(a(i)));o=f;s=n(e,l)});l.attachEvent("onafterprint",function(){for(var e=o,n=e.length;n--;)e[n].removeNode();clearTimeout(u._removeSheetTimer);u._removeSheetTimer=setTimeout(t,500)});e.printShived=!0;return e}var l=e.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,d="_html5shiv",v=0,m={},g;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>";p="hidden"in e;var n;if(!(n=1==e.childNodes.length)){t.createElement("a");var r=t.createDocumentFragment();n="undefined"==typeof r.cloneNode||"undefined"==typeof r.createDocumentFragment||"undefined"==typeof r.createElement}g=n}catch(i){g=p=!0}})();var y={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2",shivCSS:!1!==l.shivCSS,supportsUnknownElements:g,shivMethods:!1!==l.shivMethods,type:"default",shivDocument:u,createElement:s,createDocumentFragment:function(e,n){e||(e=t);if(g)return e.createDocumentFragment();for(var n=n||i(e),s=n.frag.cloneNode(),o=0,u=r(),a=u.length;o<a;o++)s.createElement(u[o]);return s}};e.html5=y;u(t);var b=/^$|\b(?:all|print)\b/,w="html5shiv",E=!g&&function(){var n=t.documentElement;return!("undefined"==typeof t.namespaces||"undefined"==typeof t.parentWindow||"undefined"==typeof n.applyElement||"undefined"==typeof n.removeNode||"undefined"==typeof e.attachEvent)}();y.type+=" print";y.shivPrint=f;f(t)})(this,document);(function(e,t){function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=p[e[c]];t||(t={},h++,e[c]=h,p[h]=t);return t}function i(e,n,i){n||(n=t);if(d)return n.createElement(e);i||(i=r(n));n=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e);return n.canHaveChildren&&!a.test(e)?i.frag.appendChild(n):n}function s(e,t){if(!t.cache)t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag();e.createElement=function(n){return!v.shivMethods?t.createElem(n):i(n,e,t)};e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){t.createElem(e);t.frag.createElement(e);return'c("'+e+'")'})+");return n}")(v,t.frag)}function o(e){e||(e=t);var n=r(e);if(v.shivCSS&&!l&&!n.hasCSS){var i,o=e;i=o.createElement("p");o=o.getElementsByTagName("head")[0]||o.documentElement;i.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>";i=o.insertBefore(i.lastChild,o.firstChild);n.hasCSS=!!i}d||s(e,n);return e}var u=e.html5||{},a=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,l,c="_html5shiv",h=0,p={},d;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>";l="hidden"in e;var n;if(!(n=1==e.childNodes.length)){t.createElement("a");var r=t.createDocumentFragment();n="undefined"==typeof r.cloneNode||"undefined"==typeof r.createDocumentFragment||"undefined"==typeof r.createElement}d=n}catch(i){d=l=!0}})();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2",shivCSS:!1!==u.shivCSS,supportsUnknownElements:d,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:o,createElement:i,createDocumentFragment:function(e,i){e||(e=t);if(d)return e.createDocumentFragment();for(var i=i||r(e),s=i.frag.cloneNode(),o=0,u=n(),a=u.length;o<a;o++)s.createElement(u[o]);return s}};e.html5=v;o(t)})(this,document);e.fn.swipe=function(t){if(!this){return false}var n={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var r="left";var i="right";var s="up";var o="down";var u="none";var a="horizontal";var f="vertical";var l="auto";var c="start";var h="move";var p="end";var d="cancel";var v="ontouchstart"in window,m=v?"touchstart":"mousedown",g=v?"touchmove":"mousemove",y=v?"touchend":"mouseup",b="touchcancel";var w="start";if(t.allowPageScroll==undefined&&(t.swipe!=undefined||t.swipeStatus!=undefined)){t.allowPageScroll=u}if(t){e.extend(n,t)}return this.each(function(){function L(e){var r=v?e.touches[0]:e;w=c;if(v){x=e.touches.length}distance=0;direction=null;if(x==n.fingers||!v){T.x=N.x=r.pageX;T.y=N.y=r.pageY;if(n.swipeStatus){_(e,w)}}else{M(e)}t.addEventListener(g,A,false);t.addEventListener(y,O,false)}function A(e){if(w==p||w==d){return}var t=v?e.touches[0]:e;N.x=t.pageX;N.y=t.pageY;direction=B();if(v){x=e.touches.length}w=h;D(e,direction);if(x==n.fingers||!v){distance=P();if(n.swipeStatus){_(e,w,direction,distance)}if(!n.triggerOnTouchEnd){if(distance>=n.threshold){w=p;_(e,w);M(e)}}}else{w=d;_(e,w);M(e)}}function O(e){e.preventDefault();distance=P();direction=B();if(n.triggerOnTouchEnd){w=p;if((x==n.fingers||!v)&&N.x!=0){if(distance>=n.threshold){_(e,w);M(e)}else{w=d;_(e,w);M(e)}}else{w=d;_(e,w);M(e)}}else{if(w==h){w=d;_(e,w);M(e)}}t.removeEventListener(g,A,false);t.removeEventListener(y,O,false)}function M(e){x=0;T.x=0;T.y=0;N.x=0;N.y=0;C.x=0;C.y=0}function _(e,t){if(n.swipeStatus){n.swipeStatus.call(E,e,t,direction||null,distance||0)}if(t==d){if(n.click&&(x==1||!v)&&(isNaN(distance)||distance==0)){n.click.call(E,e,e.target)}}if(t==p){if(n.swipe){n.swipe.call(E,e,direction,distance)}switch(direction){case r:if(n.swipeLeft){n.swipeLeft.call(E,e,direction,distance)}break;case i:if(n.swipeRight){n.swipeRight.call(E,e,direction,distance)}break;case s:if(n.swipeUp){n.swipeUp.call(E,e,direction,distance)}break;case o:if(n.swipeDown){n.swipeDown.call(E,e,direction,distance)}break}}}function D(e,t){if(n.allowPageScroll==u){e.preventDefault()}else{var c=n.allowPageScroll==l;switch(t){case r:if(n.swipeLeft&&c||!c&&n.allowPageScroll!=a){e.preventDefault()}break;case i:if(n.swipeRight&&c||!c&&n.allowPageScroll!=a){e.preventDefault()}break;case s:if(n.swipeUp&&c||!c&&n.allowPageScroll!=f){e.preventDefault()}break;case o:if(n.swipeDown&&c||!c&&n.allowPageScroll!=f){e.preventDefault()}break}}}function P(){return Math.round(Math.sqrt(Math.pow(N.x-T.x,2)+Math.pow(N.y-T.y,2)))}function H(){var e=T.x-N.x;var t=N.y-T.y;var n=Math.atan2(t,e);var r=Math.round(n*180/Math.PI);if(r<0){r=360-Math.abs(r)}return r}function B(){var e=H();if(e<=45&&e>=0){return r}else{if(e<=360&&e>=315){return r}else{if(e>=135&&e<=225){return i}else{if(e>45&&e<135){return o}else{return s}}}}}var t=this;var E=e(this);var S=null;var x=0;var T={x:0,y:0};var N={x:0,y:0};var C={x:0,y:0};try{this.addEventListener(m,L,false);this.addEventListener(b,M)}catch(F){}})};e.fn.extend({outerHTML:function(t){if(!this.length){return null}else{if(t===undefined){var n=this.length?this[0]:this,r;if(n.outerHTML){r=n.outerHTML}else{r=e(document.createElement("div")).append(e(n).clone()).html()}if(typeof r==="string"){r=e.trim(r)}return r}else{if(e.isFunction(t)){this.each(function(n){var r=e(this);r.outerHTML(t.call(this,n,r.outerHTML()))})}else{var i=e(this),s=[],o=e(t),u;for(var a=0;a<i.length;a++){u=o.clone(true);i.eq(a).replaceWith(u);for(var f=0;f<u.length;f++){s.push(u[f])}}return s.length?e(s):null}}}}});(function(e,t,n){"use strict";var r=t.event,i;r.special.smartresize={setup:function(){t(this).bind("resize",r.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",r.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize",i&&clearTimeout(i),i=setTimeout(function(){jQuery.event.handle.apply(n,r)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Mason=function(e,n){this.element=t(n),this._create(e),this._init()},t.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},t.Mason.prototype={_filterFindBricks:function(e){var t=this.options.itemSelector;return t?e.filter(t).add(e.find(t)):e},_getBricks:function(e){var t=this._filterFindBricks(e).css({position:"absolute"}).addClass("masonry-brick");return t},_create:function(n){this.options=t.extend(!0,{},t.Mason.settings,n),this.styleQueue=[];var r=this.element[0].style;this.originalStyle={height:r.height||""};var i=this.options.containerStyle;for(var s in i)this.originalStyle[s]=r[s]||"";this.element.css(i),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var o=this;setTimeout(function(){o.element.addClass("masonry")},0),this.options.isResizable&&t(e).bind("smartresize.masonry",function(){o.resize()}),this.reloadItems()},_init:function(e){this._getColumns(),this._reLayout(e)},option:function(e,n){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))},layout:function(e,t){for(var n=0,r=e.length;n<r;n++)this._placeBrick(e[n]);var i={};i.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var s=0;n=this.cols;while(--n){if(this.colYs[n]!==0)break;s++}i.width=(this.cols-s)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:i});var o=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",u=this.options.animationOptions,a;for(n=0,r=this.styleQueue.length;n<r;n++)a=this.styleQueue[n],a.$el[o](a.style,u);this.styleQueue=[],t&&t.call(e),this.isLaidOut=!0},_getColumns:function(){var e=this.options.isFitWidth?this.element.parent():this.element,t=e.width();this.columnWidth=this.isFluid?this.options.columnWidth(t):this.options.columnWidth||this.$bricks.outerWidth(!0)||t,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((t+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(e){var n=t(e),r,i,s,o,u;r=Math.ceil(n.outerWidth(!0)/(this.columnWidth+this.options.gutterWidth)),r=Math.min(r,this.cols);if(r===1)s=this.colYs;else{i=this.cols+1-r,s=[];for(u=0;u<i;u++)o=this.colYs.slice(u,u+r),s[u]=Math.max.apply(Math,o)}var a=Math.min.apply(Math,s),f=0;for(var l=0,c=s.length;l<c;l++)if(s[l]===a){f=l;break}var h={top:a+this.offset.y};h[this.horizontalDirection]=this.columnWidth*f+this.offset.x,this.styleQueue.push({$el:n,style:h});var p=a+n.outerHeight(!0),d=this.cols+1-c;for(l=0;l<d;l++)this.colYs[f+l]=p},resize:function(){var e=this.cols;this._getColumns(),(this.isFluid||this.cols!==e)&&this._reLayout()},_reLayout:function(e){var t=this.cols;this.colYs=[];while(t--)this.colYs.push(0);this.layout(this.$bricks,e)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(e){this.reloadItems(),this._init(e)},appended:function(e,t,n){if(t){this._filterFindBricks(e).css({top:this.element.height()});var r=this;setTimeout(function(){r._appended(e,n)},1)}else this._appended(e,n)},_appended:function(e,t){var n=this._getBricks(e);this.$bricks=this.$bricks.add(n),this.layout(n,t)},remove:function(e){this.$bricks=this.$bricks.not(e),e.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),t(e).unbind(".masonry")}},t.fn.imagesLoaded=function(e){function n(e){var i=e.target;i.src!==u&&t.inArray(i,a)===-1&&(a.push(i),--o<=0&&(setTimeout(r),s.unbind(".imagesLoaded",n)))}function r(){e.call(i,s)}var i=this,s=i.find("img").add(i.filter("img")),o=s.length,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",a=[];o||r(),s.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var e=this.src;this.src=u,this.src=e});return i};var s=function(t){e.console&&e.console.error(t)};t.fn.masonry=function(e){if(typeof e=="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"masonry");if(!r)s("cannot call methods on masonry prior to initialization; attempted to call method '"+e+"'");else{if(!t.isFunction(r[e])||e.charAt(0)==="_"){s("no such method '"+e+"' for masonry instance");return}r[e].apply(r,n)}})}else this.each(function(){var n=t.data(this,"masonry");n?(n.option(e||{}),n._init()):t.data(this,"masonry",new t.Mason(e,this))});return this}})(window,e);(function(e){function t(t,n){function r(){v.settings.shuffle&&g.sort(function(){return.5-Math.random()});if(v.settings.preloadPanels){l();for(var t=0,n=g.length,r=0;r<n;r++)e("<img/>").load(function(){t++;if(t==n){p.find(".preloader").remove();i()}}).attr("src",g[r].path)}else i()}function i(){L=g.length;A=v.settings.columns;O=Math.ceil(L/A);E=(v.settings.width-(A-1)*v.settings.distance)/v.settings.columns;S=(v.settings.height-(O-1)*v.settings.distance)/Math.ceil(L/v.settings.columns);x=v.settings.width-(A-1)*(v.settings.closedPanelWidth+v.settings.distance);T=v.settings.height-(O-1)*(v.settings.closedPanelHeight+v.settings.distance);var t=e('<div class="panel"></div>').appendTo(p);C=(isNaN(parseInt(t.css("borderLeftWidth")))?0:parseInt(t.css("borderLeftWidth")))+(isNaN(parseInt(t.css("borderRightWidth")))?0:parseInt(t.css("borderRightWidth")));k=(isNaN(parseInt(t.css("borderTopWidth")))?0:parseInt(t.css("borderTopWidth")))+(isNaN(parseInt(t.css("borderBottomWidth")))?0:parseInt(t.css("borderBottomWidth")));t.remove();for(t=0;t<L;t++)s(t);v.settings.slideshow&&h();p.hover(function(){v.settings.slideshow&&v.settings.stopSlideshowOnHover&&b&&clearInterval(b)},function(){v.settings.closePanelOnMouseOut&&u();v.settings.slideshow&&v.settings.stopSlideshowOnHover&&h()})}function s(t){var n=e('<div class="panel"></div>').appendTo(p);y.push(n);g[t].width=x;g[t].height=T;e("<img/>").load(function(){y[t].css("background-image","url("+e(this).attr("src")+")");switch(g[t].properties.alignType){case"leftTop":y[t].css("background-position","left top");break;case"leftCenter":y[t].css("background-position","left center");break;case"leftBottom":y[t].css("background-position","left bottom");break;case"centerTop":y[t].css("background-position","center top");break;case"centerCenter":y[t].css("background-position","center center");break;case"centerBottom":y[t].css("background-position","center bottom");break;case"rightTop":y[t].css("background-position","right top");break;case"rightCenter":y[t].css("background-position","right center");break;case"rightBottom":y[t].css("background-position","right bottom");break;case"default":y[t].css("background-position","left top")}v.settings.shadow&&e('<div class="shadow"></div>').appendTo(n);g[t].width=e(this).attr("width")||e(this).prop("width");g[t].height=e(this).attr("height")||e(this).prop("height");var r={type:"panelLoaded",index:t,data:g[t]};e.isFunction(v.settings.panelLoaded)&&v.settings.panelLoaded.call(this,r)}).attr("src",g[t].path);n.css("width",E-C);n.css("height",S-k);n.css("left",t%A*(E+v.settings.distance));n.css("top",Math.floor(t/A)*(S+v.settings.distance));n.hover(function(){if(v.settings.openPanelOnMouseOver){M&&clearTimeout(M);M=setTimeout(function(){o(t)},v.settings.openPanelDelay)}var n={type:"panelMouseOver",index:t,data:g[t]};e.isFunction(v.settings.panelMouseOver)&&v.settings.panelMouseOver.call(this,n)},function(){var n={type:"panelMouseOut",index:t,data:g[t]};e.isFunction(v.settings.panelMouseOut)&&v.settings.panelMouseOut.call(this,n)});g[t].link&&n.css("cursor","pointer");n.click(function(){v.settings.openPanelOnClick&&o(t);g[t].link&&window.open(g[t].link,g[t].properties.linkTarget);var n={type:"panelClick",index:t,data:g[t]};e.isFunction(v.settings.panelClick)&&v.settings.panelClick.call(this,n)});var r={type:"panelCreated",index:t,data:g[t]};e.isFunction(v.settings.panelCreated)&&v.settings.panelCreated.call(this,r);if(t==g.length-1){r={type:"allPanelsCreated"};e.isFunction(v.settings.allPanelsCreated)&&v.settings.allPanelsCreated.call(this,r)}}function o(t){if(!(m==t&&N=="opened")){N="opened";m!=-1&&y[m].stop();m=t;var n={type:"openPanel",index:t,data:g[t]};e.isFunction(v.settings.openPanel)&&v.settings.openPanel.call(this,n);c();var r=false;n=y[m];var i,s;if(v.settings.openedPanelWidth=="auto"){i=x;for(var o=0;o<L;o++)if(o%A==m%A)i=Math.min(i,g[o].width)}else i=v.settings.openedPanelWidth=="max"?g[m].width:v.settings.openedPanelWidth;if(v.settings.openedPanelHeight=="auto"){s=T;for(o=0;o<L;o++)if(Math.floor(o/A)==Math.floor(m/A))s=Math.min(s,g[o].height)}else s=v.settings.openedPanelHeight=="max"?g[m].height:v.settings.openedPanelHeight;var u=(v.settings.width-(A-1)*v.settings.distance-i)/(A-1),a=(v.settings.height-(O-1)*v.settings.distance-s)/(O-1),f={},l=[],h=[],p=[],b=[],w=[],E=[],S=[],M=[],_;for(o=0;o<L;o++){h[o]=parseFloat(y[o].css("width"));b[o]=parseFloat(y[o].css("height"));E[o]=parseFloat(y[o].css("left"));M[o]=parseFloat(y[o].css("top"));if(o==m){l[o]=i-C;p[o]=s-k}else{l[o]=o%A==m%A?Math.min(i-C,g[o].width):u-C;p[o]=Math.floor(o/A)==Math.floor(m/A)?Math.min(s-k,g[o].height):a-k}w[o]=o%A*(u+v.settings.distance)+(o%A<=m%A?0:i-u)+(o%A==m%A&&i-C>l[o]?(i-C-l[o])/2:0);S[o]=Math.floor(o/A)*(a+v.settings.distance)+(Math.floor(o/A)<=Math.floor(m/A)?0:s-a)+(Math.floor(o/A)==Math.floor(m/A)&&s-k>p[o]?(s-k-p[o])/2:0)}var D,P,H;if(parseFloat(n.css("width"))!=i-C){D=parseFloat(n.css("width"));P=i;H=C;f.width=P-H}else{D=parseFloat(n.css("height"));P=s;H=k;f.height=P-H}n.stop();n.animate(f,{duration:v.settings.slideDuration,complete:function(){if(!r){r=true;if(g[t].caption){var n=g[t].caption,i=g[m].properties,s=parseInt(i.captionFadeDuration),o=parseInt(i.captionWidth),u=parseInt(i.captionHeight),a=parseInt(i.captionTop);i=parseInt(i.captionLeft);o=e('<div class="caption"></div>').css({width:o,height:u,left:i,top:a,opacity:0}).appendTo(y[m]);u=e('<div class="caption-background"></div>').css({width:"100%",height:"100%"}).appendTo(o);e("<p></p>").html(n).css({width:"100%",height:"100%",opacity:1}).appendTo(u);o.animate({opacity:1},s)}n={type:"animationComplete"};e.isFunction(v.settings.animationComplete)&&v.settings.animationComplete.call(this,n)}},step:function(e){_=(e-D)/(P-H-D);for(e=0;e<L;e++){y[e].css("width",_*(l[e]-h[e])+h[e]);y[e].css("height",_*(p[e]-b[e])+b[e]);y[e].css("left",_*(w[e]-E[e])+E[e]);y[e].css("top",_*(S[e]-M[e])+M[e])}}})}}function u(){N="closed";M&&clearTimeout(M);c();for(var t=false,n=y[m],r=parseFloat(n.css("width")),i={},s=[],o=[],u=[],a=[],f=[],l=[],h=[],p=[],g,b=0;b<L;b++){o[b]=parseFloat(y[b].css("width"));a[b]=parseFloat(y[b].css("height"));s[b]=E-C;u[b]=S-k;l[b]=parseFloat(y[b].css("left"));p[b]=parseFloat(y[b].css("top"));f[b]=b%A*(E+v.settings.distance);h[b]=Math.floor(b/A)*(S+v.settings.distance)}i.width=E-C;n.stop();n.animate(i,{duration:v.settings.slideDuration,complete:function(){if(!t){t=true;var n={type:"animationComplete"};e.isFunction(v.settings.animationComplete)&&v.settings.animationComplete.call(this,n)}},step:function(e){g=(r-e)/(r-E+C);for(e=0;e<L;e++){y[e].css("width",g*(s[e]-o[e])+o[e]);y[e].css("height",g*(u[e]-a[e])+a[e]);y[e].css("left",g*(f[e]-l[e])+l[e]);y[e].css("top",g*(h[e]-p[e])+p[e])}}})}function a(){o(m==g.length-1?0:m+1)}function f(){o(m==0?g.length-1:m-1)}function l(){var t=e('<div class="preloader"></div>').hide().fadeIn(300).appendTo(p),n=(v.settings.width-parseInt(t.css("width")))*.5,r=(v.settings.height-parseInt(t.css("height")))*.5;t.css({left:n,top:r})}function c(){var e=p.find(".caption");e&&e.stop().animate({opacity:0},300,function(){e.remove()})}function h(){b=setInterval(function(){if(v.settings.slideshowDirection=="next")a();else v.settings.slideshowDirection=="previous"&&f()},v.settings.slideshowDelay)}this.settings=e.extend({},e.fn.gridAccordion.defaults,n);var p=e(t),v=this,m=-1,g=[],y=[],b=0,w=["captionFadeDuration","captionWidth","captionHeight","captionTop","captionLeft","linkTarget","alignType"],E,S,x,T,N="closed",C=0,k=0,L=0,A,O,M;(function(){p.addClass("grid-accordion").css({width:v.settings.width,height:v.settings.height});if(v.settings.xmlSource){p.empty();e.ajax({type:"GET",url:v.settings.xmlSource,dataType:e.browser.msie?"text":"xml",success:function(t){var n;if(e.browser.msie){n=new ActiveXObject("Microsoft.XMLDOM");n.async=false;n.loadXML(t)}else n=t;e(n).find("panel").each(function(){var t={};t.properties={};for(var n=0;n<e(this).children().length;n++){var r=e(this).children()[n];t[r.nodeName]=e(this).find(r.nodeName).text()}for(n=0;n<w.length;n++){r=w[n];var i=e(this).attr(r);t.properties[r]=i==undefined?v.settings[r]:i}g.push(t)});r()}})}else{p.children().each(function(t){var n={};n.properties={};for(var r=0;r<e(this).children().length;r++){var i=e(this).children()[r];if(e(i).is("a")){n.path=e(i).find("img").attr("src");n.link=e(i).attr("href");if(e(i).attr("target"))n.properties.linkTarget=e(i).attr("target")}else if(e(i).is("img"))n.path=e(i).attr("src");else n[e(i).attr("class")]=e(i).html()}for(r=0;r<w.length;r++){i=w[r];var s;if(v.settings.panelProperties)if(v.settings.panelProperties[t])s=v.settings.panelProperties[t][i];n.properties[i]||(n.properties[i]=s==undefined?v.settings[i]:s)}g.push(n)});p.empty();r()}})();this.nextPanel=a;this.previousSlide=f;this.openPanel=o;this.startSlideshow=function(){h()};this.stopSlideshow=function(){b&&clearInterval(b)};this.getSlideshowState=function(){return slideshowState};this.getCurrentIndex=function(){return m};this.getPanelAt=function(e){return g[e]};this.getAccordionState=function(){return N}}e.fn.gridAccordion=function(e){for(var n=[],r=0;r<this.length;r++)if(!this[r].accordion){this[r].accordion=new t(this[r],e);n.push(this[r].accordion)}return n.length>1?n:n[0]};e.fn.gridAccordion.defaults={xmlSource:null,width:500,height:300,alignType:"leftTop",distance:0,columns:3,slideshow:false,slideshowDelay:5e3,slideshowDirection:"next",stopSlideshowOnHover:true,slideDuration:700,openPanelOnMouseOver:true,closePanelOnMouseOut:true,openPanelOnClick:false,preloadPanels:false,shuffle:false,openedPanelWidth:"auto",openedPanelHeight:"auto",closedPanelWidth:30,closedPanelHeight:30,captionFadeDuration:500,captionWidth:300,captionHeight:100,captionTop:100,captionLeft:30,shadow:false,linkTarget:"_blank",openPanelDelay:200,panelProperties:null,panelMouseOver:null,panelMouseOut:null,panelClick:null,panelLoaded:null,panelCreated:null,allPanelsCreated:null,animationComplete:null,openPanel:null}})(jQuery);(function(e,t,n){function i(e){return e}function s(e){return decodeURIComponent(e.replace(r," "))}var r=/\+/g;var o=e.cookie=function(r,u,a){if(u!==n){a=e.extend({},o.defaults,a);if(u===null){a.expires=-1}if(typeof a.expires==="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}u=o.json?JSON.stringify(u):String(u);return t.cookie=[encodeURIComponent(r),"=",o.raw?u:encodeURIComponent(u),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=o.raw?i:s;var h=t.cookie.split("; ");for(var p=0,d=h.length;p<d;p++){var v=h[p].split("=");if(c(v.shift())===r){var m=c(v.join("="));return o.json?JSON.parse(m):m}}return null};o.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)!==null){e.cookie(t,null,n);return true}return false}})(jQuery,document);(function(e,t,n){var r=function(){for(var e=/audio(.min)?.js.*/,t=document.getElementsByTagName("script"),n=0,r=t.length;n<r;n++){var i=t[n].getAttribute("src");if(e.test(i))return i.replace(e,"")}}();n[e]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:false,loop:false,preload:true,imageLocation:r+"player-graphics.gif",swfLocation:r+"audiojs.swf",useFlash:function(){var e=document.createElement("audio");return!(e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return true;else if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes["application/x-shockwave-flash"];return e&&e.enabledPlugin}else try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(t){}return false}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},css:'        .audiojs audio { position: absolute; left: -1px; }         .audiojs { width: 460px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444));           background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%);           -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3);           -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); }         .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; }         .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; }         .audiojs .play { display: block; }         .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); }         .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("$1") -2px -1px no-repeat; }         .audiojs .loading { background: url("$1") -2px -31px no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url("$1") -2px -91px no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }',trackEnded:function(){},flashError:function(){var t=this.settings.createPlayer,r=i(t.errorMessageClass,this.wrapper),s='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';if(this.mp3)s+=' <a href="'+this.mp3+'">Download audio file</a>.';n[e].helpers.removeClass(this.wrapper,t.loadingClass);n[e].helpers.addClass(this.wrapper,t.errorClass);r.innerHTML=s},loadError:function(){var t=this.settings.createPlayer,r=i(t.errorMessageClass,this.wrapper);n[e].helpers.removeClass(this.wrapper,t.loadingClass);n[e].helpers.addClass(this.wrapper,t.errorClass);r.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){n[e].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var t=this.settings.createPlayer,r=i(t.durationClass,this.wrapper),s=Math.floor(this.duration/60),o=Math.floor(this.duration%60);n[e].helpers.removeClass(this.wrapper,t.loadingClass);r.innerHTML=(s<10?"0":"")+s+":"+(o<10?"0":"")+o},loadProgress:function(e){var t=this.settings.createPlayer,n=i(t.scrubberClass,this.wrapper);i(t.loaderClass,this.wrapper).style.width=n.offsetWidth*e+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){n[e].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){n[e].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(e){var t=this.settings.createPlayer,n=i(t.scrubberClass,this.wrapper);i(t.progressClass,this.wrapper).style.width=n.offsetWidth*e+"px";t=i(t.playedClass,this.wrapper);n=this.duration*e;e=Math.floor(n/60);n=Math.floor(n%60);t.innerHTML=(e<10?"0":"")+e+":"+(n<10?"0":"")+n}},create:function(e,t){t=t||{};return e.length?this.createAll(t,e):this.newInstance(e,t)},createAll:function(e,t){var n=t||document.getElementsByTagName("audio"),r=[];e=e||{};for(var i=0,s=n.length;i<s;i++)r.push(this.newInstance(n[i],e));return r},newInstance:function(e,r){var i=this.helpers.clone(this.settings),s="audiojs"+this.instanceCount,u="audiojs_wrapper"+this.instanceCount;this.instanceCount++;if(e.getAttribute("autoplay")!=null)i.autoplay=true;if(e.getAttribute("loop")!=null)i.loop=true;if(e.getAttribute("preload")=="none")i.preload=false;r&&this.helpers.merge(i,r);if(i.createPlayer.markup)e=this.createPlayer(e,i.createPlayer,u);else e.parentNode.setAttribute("id",u);u=new n[t](e,i);i.css&&this.helpers.injectCss(u,i.css);if(i.useFlash&&i.hasFlash){this.injectFlash(u,s);this.attachFlashEvents(u.wrapper,u)}else i.useFlash&&!i.hasFlash&&this.settings.flashError.apply(u);if(!i.useFlash||i.useFlash&&i.hasFlash)this.attachEvents(u.wrapper,u);return this.instances[s]=u},createPlayer:function(e,t,n){var r=document.createElement("div"),i=e.cloneNode(true);r.setAttribute("class","audiojs");r.setAttribute("className","audiojs");r.setAttribute("id",n);if(i.outerHTML&&!document.createElement("audio").canPlayType){i=this.helpers.cloneHtml5Node(e);r.innerHTML=t.markup;r.appendChild(i);e.outerHTML=r.outerHTML;r=document.getElementById(n)}else{r.appendChild(i);r.innerHTML+=t.markup;e.parentNode.replaceChild(r,e)}return r.getElementsByTagName("audio")[0]},attachEvents:function(t,r){if(r.settings.createPlayer){var s=r.settings.createPlayer,o=i(s.playPauseClass,t),u=i(s.scrubberClass,t);n[e].events.addListener(o,"click",function(){r.playPause.apply(r)});n[e].events.addListener(u,"click",function(e){e=e.clientX;var t=this,n=0;if(t.offsetParent){do n+=t.offsetLeft;while(t=t.offsetParent)}r.skipTo((e-n)/u.offsetWidth)});if(!r.settings.useFlash){n[e].events.trackLoadProgress(r);n[e].events.addListener(r.element,"timeupdate",function(){r.updatePlayhead.apply(r)});n[e].events.addListener(r.element,"ended",function(){r.trackEnded.apply(r)});n[e].events.addListener(r.source,"error",function(){clearInterval(r.readyTimer);clearInterval(r.loadTimer);r.settings.loadError.apply(r)})}}},attachFlashEvents:function(e,t){t.swfReady=false;t.load=function(e){t.mp3=e;t.swfReady&&t.element.load(e)};t.loadProgress=function(e,n){t.loadedPercent=e;t.duration=n;t.settings.loadStarted.apply(t);t.settings.loadProgress.apply(t,[e])};t.skipTo=function(e){if(!(e>t.loadedPercent)){t.updatePlayhead.call(t,[e]);t.element.skipTo(e)}};t.updatePlayhead=function(e){t.settings.updatePlayhead.apply(t,[e])};t.play=function(){if(!t.settings.preload){t.settings.preload=true;t.element.init(t.mp3)}t.playing=true;t.element.pplay();t.settings.play.apply(t)};t.pause=function(){t.playing=false;t.element.ppause();t.settings.pause.apply(t)};t.setVolume=function(e){t.element.setVolume(e)};t.loadStarted=function(){t.swfReady=true;t.settings.preload&&t.element.init(t.mp3);t.settings.autoplay&&t.play.apply(t)}},injectFlash:function(e,t){var n=this.flashSource.replace(/\$1/g,t);n=n.replace(/\$2/g,e.settings.swfLocation);n=n.replace(/\$3/g,+(new Date)+Math.random());var r=e.wrapper.innerHTML,i=document.createElement("div");i.innerHTML=n+r;e.wrapper.innerHTML=i.innerHTML;e.element=this.helpers.getSwf(t)},helpers:{merge:function(e,t){for(attr in t)if(e.hasOwnProperty(attr)||t.hasOwnProperty(attr))e[attr]=t[attr]},clone:function(e){if(e==null||typeof e!=="object")return e;var t=new e.constructor,n;for(n in e)t[n]=arguments.callee(e[n]);return t},addClass:function(e,t){RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=" "+t)},removeClass:function(e,t){e.className=e.className.replace(RegExp("(\\s|^)"+t+"(\\s|$)")," ")},injectCss:function(e,t){for(var n="",r=document.getElementsByTagName("style"),i=t.replace(/\$1/g,e.settings.imageLocation),s=0,o=r.length;s<o;s++){var u=r[s].getAttribute("title");if(u&&~u.indexOf("audiojs")){o=r[s];if(o.innerHTML===i)return;n=o.innerHTML;break}}r=document.getElementsByTagName("head")[0];s=r.firstChild;o=document.createElement("style");if(r){o.setAttribute("type","text/css");o.setAttribute("title","audiojs");if(o.styleSheet)o.styleSheet.cssText=n+i;else o.appendChild(document.createTextNode(n+i));s?r.insertBefore(o,s):r.appendChild(styleElement)}},cloneHtml5Node:function(e){var t=document.createDocumentFragment(),n=t.createElement?t:document;n.createElement("audio");n=n.createElement("div");t.appendChild(n);n.innerHTML=e.outerHTML;return n.firstChild},getSwf:function(e){e=document[e]||window[e];return e.length>1?e[e.length-1]:e}},events:{memoryLeaking:false,listeners:[],addListener:function(t,r,i){if(t.addEventListener)t.addEventListener(r,i,false);else if(t.attachEvent){this.listeners.push(t);if(!this.memoryLeaking){window.attachEvent("onunload",function(){if(this.listeners)for(var t=0,r=this.listeners.length;t<r;t++)n[e].events.purge(this.listeners[t])});this.memoryLeaking=true}t.attachEvent("on"+r,function(){i.call(t,window.event)})}},trackLoadProgress:function(e){if(e.settings.preload){var t,n;e=e;var r=/(ipod|iphone|ipad)/i.test(navigator.userAgent);t=setInterval(function(){if(e.element.readyState>-1)r||e.init.apply(e);if(e.element.readyState>1){e.settings.autoplay&&e.play.apply(e);clearInterval(t);n=setInterval(function(){e.loadProgress.apply(e);e.loadedPercent>=1&&clearInterval(n)})}},10);e.readyTimer=t;e.loadTimer=n}},purge:function(e){var t=e.attributes,n;if(t)for(n=0;n<t.length;n+=1)if(typeof e[t[n].name]==="function")e[t[n].name]=null;if(t=e.childNodes)for(n=0;n<t.length;n+=1)purge(e.childNodes[n])},ready:function(){return function(e){var t=window,n=false,r=true,i=t.document,s=i.documentElement,o=i.addEventListener?"addEventListener":"attachEvent",u=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",f=function(r){if(!(r.type=="readystatechange"&&i.readyState!="complete")){(r.type=="load"?t:i)[u](a+r.type,f,false);if(!n&&(n=true))e.call(t,r.type||r)}},l=function(){try{s.doScroll("left")}catch(e){setTimeout(l,50);return}f("poll")};if(i.readyState=="complete")e.call(t,"lazy");else{if(i.createEventObject&&s.doScroll){try{r=!t.frameElement}catch(c){}r&&l()}i[o](a+"DOMContentLoaded",f,false);i[o](a+"readystatechange",f,false);t[o](a+"load",f,false)}}}()}};n[t]=function(e,t){this.element=e;this.wrapper=e.parentNode;this.source=e.getElementsByTagName("source")[0]||e;this.mp3=function(e){var t=e.getElementsByTagName("source")[0];return e.getAttribute("src")||(t?t.getAttribute("src"):null)}(e);this.settings=t;this.loadStartedCalled=false;this.loadedPercent=0;this.duration=1;this.playing=false};n[t].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,[this.element.currentTime/this.duration])},skipTo:function(e){if(!(e>this.loadedPercent)){this.element.currentTime=this.duration*e;this.updatePlayhead()}},load:function(t){this.loadStartedCalled=false;this.source.setAttribute("src",t);this.element.load();this.mp3=t;n[e].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){if(!this.element.duration)return false;this.duration=this.element.duration;this.updatePlayhead();this.settings.loadStarted.apply(this)},loadProgress:function(){if(this.element.buffered!=null&&this.element.buffered.length){if(!this.loadStartedCalled)this.loadStartedCalled=this.loadStarted();this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration;this.settings.loadProgress.apply(this,[this.loadedPercent])}},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&this.element.readyState==0&&this.init.apply(this);if(!this.settings.preload){this.settings.preload=true;this.element.setAttribute("preload","auto");n[e].events.trackLoadProgress(this)}this.playing=true;this.element.play();this.settings.play.apply(this)},pause:function(){this.playing=false;this.element.pause();this.settings.pause.apply(this)},setVolume:function(e){this.element.volume=e},trackEnded:function(){this.skipTo.apply(this,[0]);this.settings.loop||this.pause.apply(this);this.settings.trackEnded.apply(this)}};var i=function(e,t){var n=[];t=t||document;if(t.getElementsByClassName)n=t.getElementsByClassName(e);else{var r,i,s=t.getElementsByTagName("*"),o=RegExp("(^|\\s)"+e+"(\\s|$)");r=0;for(i=s.length;r<i;r++)o.test(s[r].className)&&n.push(s[r])}return n.length>1?n:n[0]}})("audiojs","audiojsInstance",this)})(jQuery)